{
    "version": "https://jsonfeed.org/version/1",
    "title": "你的饮月君",
    "home_page_url": "https://yinyuejun.top/",
    "feed_url": "https://yinyuejun.top/feed.json",
    "description": "你的饮月君' Blog",
    "icon": "https://yinyuejun.top/horse.svg",
    "author": {
        "name": "你的饮月君",
        "url": "https://yinyuejun.top"
    },
    "items": [
        {
            "content_html": "<h1>下班倒计时</h1>\n<pre><code class=\"language-javascript\">// ==UserScript==\n// @name         下班倒计时\n// @namespace    https://bbs.tampermonkey.net.cn/\n// @version      0.1.1\n// @description  一个提醒你准时下班的demo,请使用ScriptCat运行\n// @author       yinyuejun\n// @crontab      59 17 * * 1,2,3,4,5\n// @grant        GM_notification\n// @grant        GM_getValue\n// @grant        GM_setValue\n// @grant        GM_updateNotification\n// @debug\n// ==/UserScript==\nfunction getAvatarAndImage(id) {\n  const baseUrl = &quot;https://gitee.com/hewang1an/StarRail-plugin/raw/main/resources/panel/resources&quot;;\n  return {\n    avatarUrl: baseUrl + `/avatar/${id}.png`,\n    charImageUrl: baseUrl + `/char_image/${id}.png`,\n  };\n}\n\nasync function fetchCharacterData() {\n  try {\n    const response = await fetch(&quot;https://songzhanpeng.github.io/character.json&quot;);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(&quot;Error fetching character data:&quot;, error);\n    return null;\n  }\n}\n\nasync function getRandomRole() {\n  const cachedData = GM_getValue(&quot;characterData&quot;);\n  if (cachedData) {\n    const roleList = Object.entries(cachedData);\n    const randomIndex = Math.floor(Math.random() * roleList.length);\n    const roleInfo = roleList[randomIndex];\n    const { avatarUrl, charImageUrl } = getAvatarAndImage(roleInfo[0]);\n    return {\n      id: roleInfo[1].id,\n      name: roleInfo[1].name,\n      avatar: avatarUrl,\n      charImage: charImageUrl,\n    };\n  } else {\n    const characterData = await fetchCharacterData();\n    if (characterData) {\n      GM_setValue(&quot;characterData&quot;, characterData);\n      return getRandomRole();\n    }\n    return null;\n  }\n}\n\n(async () =&gt; {\n\n    const role = await getRandomRole();\n    let i;\n    GM_notification({\n        title: `${role.name}:下班60s倒计时`,\n        text: '准时下班，美好生活',\n        image: role.avatar,\n        ondone: (user) =&gt; {\n            console.log('done user:', user);\n            clearInterval(i);\n            resolve();\n        },\n        onclick: () =&gt; {\n            console.log('click');\n        },\n        oncreate: (id) =&gt; {\n            let t = 1;\n            i = setInterval(() =&gt; {\n                GM_updateNotification(id, {\n                    title: '下班' + (60 - t) + 's倒计时',\n                    progress: 100 / 60 * t\n                });\n                if (t == 60) {\n                    clearInterval(i);\n                    GM_updateNotification(id, {\n                        title: '下班啦！',\n                        progress: 100\n                    });\n                    resolve();\n                }\n                t++;\n            }, 1000);\n        },\n        // 开启进度条模式\n        progress: 0,\n    });\n})();\n\n\n\n</code></pre>\n",
            "url": "https://yinyuejun.top/posts/下班倒计时.html",
            "title": "下班倒计时",
            "summary": "下班倒计时",
            "date_modified": "2023-07-21T00:00:00.000Z",
            "author": {
                "name": "你的饮月君",
                "url": "https://yinyuejun.top"
            }
        },
        {
            "content_html": "<h1>定时提醒小助手</h1>\n<pre><code class=\"language-javascript\">// ==UserScript==\n// @name         提醒喝水小助手\n// @namespace    https://bbs.tampermonkey.net.cn/\n// @version      0.1.0\n// @description  工作日每半个小时提醒你喝水，定时时间可以自行修改\n// @author       yinyuejun\n// @crontab      */30 10-20/1 * * 1-5\n// @grant        GM_notification\n// @grant        GM_getValue\n// @grant        GM_setValue\n// @console log\n// ==/UserScript==\n\nfunction getAvatarAndImage(id) {\n  const baseUrl = &quot;https://gitee.com/hewang1an/StarRail-plugin/raw/main/resources/panel/resources&quot;;\n  return {\n    avatarUrl: baseUrl + `/avatar/${id}.png`,\n    charImageUrl: baseUrl + `/char_image/${id}.png`,\n  };\n}\n\nasync function fetchCharacterData() {\n  try {\n    const response = await fetch(&quot;https://songzhanpeng.github.io/character.json&quot;);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(&quot;Error fetching character data:&quot;, error);\n    return null;\n  }\n}\n\nasync function getRandomRole() {\n  const cachedData = GM_getValue(&quot;characterData&quot;);\n  if (cachedData) {\n    const roleList = Object.entries(cachedData);\n    const randomIndex = Math.floor(Math.random() * roleList.length);\n    const roleInfo = roleList[randomIndex];\n    const { avatarUrl, charImageUrl } = getAvatarAndImage(roleInfo[0]);\n    return {\n      id: roleInfo[1].id,\n      name: roleInfo[1].name,\n      avatar: avatarUrl,\n      charImage: charImageUrl,\n    };\n  } else {\n    const characterData = await fetchCharacterData();\n    if (characterData) {\n      GM_setValue(&quot;characterData&quot;, characterData);\n      return getRandomRole();\n    }\n    return null;\n  }\n}\n\n(async () =&gt; {\n  const currentDate = new Date();\n  const currentHour = currentDate.getHours();\n\n  if (currentHour &gt;= 9 &amp;&amp; currentHour &lt;= 20) {\n    const role = await getRandomRole();\n    if (role) {\n      GM_notification({\n        title: `${role.name}的温馨提醒`,\n        text: &quot;开拓者，是时候喝杯水休息一下了&quot;,\n        image: role.avatar,\n      });\n    }\n  }\n})();\n</code></pre>\n",
            "url": "https://yinyuejun.top/posts/定时提醒喝水小助手.html",
            "title": "定时提醒小助手",
            "summary": "定时提醒小助手",
            "date_modified": "2023-07-21T00:00:00.000Z",
            "author": {
                "name": "你的饮月君",
                "url": "https://yinyuejun.top"
            }
        },
        {
            "content_html": "<h1>提醒走动小助手</h1>\n<pre><code class=\"language-javascript\">// ==UserScript==\n// @name         提醒走动小助手\n// @namespace    https://bbs.tampermonkey.net.cn/\n// @version      0.1.0\n// @description  每隔一个小时提醒你走动一下，定时时间可以自行修改\n// @author       yinyuejun\n// @crontab      0 10-20/1 * * 1-5\n// @grant        GM_notification\n// @grant        GM_getValue\n// @grant        GM_setValue\n// @console log\n// ==/UserScript==\n\nfunction getAvatarAndImage(id) {\n  const baseUrl = &quot;https://gitee.com/hewang1an/StarRail-plugin/raw/main/resources/panel/resources&quot;;\n  return {\n    avatarUrl: baseUrl + `/avatar/${id}.png`,\n    charImageUrl: baseUrl + `/char_image/${id}.png`,\n  };\n}\n\nasync function fetchCharacterData() {\n  try {\n    const response = await fetch(&quot;https://songzhanpeng.github.io/character.json&quot;);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(&quot;Error fetching character data:&quot;, error);\n    return null;\n  }\n}\n\nasync function getRandomRole() {\n  const cachedData = GM_getValue(&quot;characterData&quot;);\n  if (cachedData) {\n    const roleList = Object.entries(cachedData);\n    const randomIndex = Math.floor(Math.random() * roleList.length);\n    const roleInfo = roleList[randomIndex];\n    const { avatarUrl, charImageUrl } = getAvatarAndImage(roleInfo[0]);\n    return {\n      id: roleInfo[1].id,\n      name: roleInfo[1].name,\n      avatar: avatarUrl,\n      charImage: charImageUrl,\n    };\n  } else {\n    const characterData = await fetchCharacterData();\n    if (characterData) {\n      GM_setValue(&quot;characterData&quot;, characterData);\n      return getRandomRole();\n    }\n    return null;\n  }\n}\n\n(async () =&gt; {\n  const currentDate = new Date();\n  const currentHour = currentDate.getHours();\n\n  if (currentHour &gt;= 9 &amp;&amp; currentHour &lt;= 20) {\n    const role = await getRandomRole();\n    console.log(role)\n    GM_notification({\n      title: role.name,\n      text: &quot;你已经坐了一小时了，走动一下吧！&quot;,\n      image: role.avatar,\n    });\n  }\n})();\n\n</code></pre>\n",
            "url": "https://yinyuejun.top/posts/提醒走动小助手.html",
            "title": "提醒走动小助手",
            "summary": "提醒走动小助手",
            "date_modified": "2023-07-21T00:00:00.000Z",
            "author": {
                "name": "你的饮月君",
                "url": "https://yinyuejun.top"
            }
        }
    ]
}