<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>密码学原理 | 你的饮月君</title>
    <meta name="description" content="区块链基础知识">
    <link rel="preload stylesheet" href="/assets/style.c6dbcb78.css" as="style">
    <script type="module" src="/assets/app.f736708b.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/assets/chunks/framework.ad474ad6.js">
  <link rel="modulepreload" href="/assets/chunks/theme.5a9dfb33.js">
  <link rel="modulepreload" href="/assets/posts_密码学原理.md.d5e55e7a.lean.js">
  <link rel="icon" type="image/svg" href="/horse.svg">
  <meta name="author" content="你的饮月君">
  <meta property="og:title" content="Home">
  <meta property="og:description" content="Home of 你的饮月君">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><!--[--><div class="Layout" data-v-a16c1dd9 data-v-f4cfe196><!--[--><!--]--><!--[--><span tabindex="-1" data-v-ab02f3a9></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-ab02f3a9> Skip to content </a><!--]--><!----><header class="VPNav" data-v-f4cfe196 data-v-baebc274><div class="VPNavBar" data-v-baebc274 data-v-e0904804><div class="container" data-v-e0904804><div class="title" data-v-e0904804><div class="VPNavBarTitle" data-v-e0904804 data-v-e2754098><a class="title" href="/" data-v-e2754098><!--[--><!--]--><!--[--><img class="VPImage logo" src="/avator.png" alt data-v-a69f22e7><!--]--><!--[-->你的饮月君<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-e0904804><div class="curtain" data-v-e0904804></div><div class="content-body" data-v-e0904804><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-e0904804><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-e0904804 data-v-b6da696d><span id="main-nav-aria-label" class="visually-hidden" data-v-b6da696d>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-b6da696d data-v-893f2b8d data-v-f202934c><!--[-->🏡博客<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/tags.html" tabindex="0" data-v-b6da696d data-v-893f2b8d data-v-f202934c><!--[-->🔖标签<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/archives.html" tabindex="0" data-v-b6da696d data-v-893f2b8d data-v-f202934c><!--[-->📃历史博客<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/starRail.html" tabindex="0" data-v-b6da696d data-v-893f2b8d data-v-f202934c><!--[-->崩坏*星穹铁道<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-e0904804 data-v-4f660b19><label title="toggle dark mode" data-v-4f660b19 data-v-1300d8fa><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-1300d8fa data-v-8b8dafc7><span class="check" data-v-8b8dafc7><span class="icon" data-v-8b8dafc7><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-1300d8fa><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-1300d8fa><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-e0904804 data-v-3835a113 data-v-64b76d79><!--[--><a class="VPSocialLink" href="https://github.com/songzhanpeng" aria-label="github" target="_blank" rel="noopener" data-v-64b76d79 data-v-aa30dbb4><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="mailto:1686588552@qq.com" aria-label target="_blank" rel="noopener" data-v-64b76d79 data-v-aa30dbb4><svg role="img" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20">
            <path d="M874.666667 375.189333V746.666667a64 64 0 0 1-64 64H213.333333a64 64 0 0 1-64-64V375.189333l266.090667 225.6a149.333333 149.333333 0 0 0 193.152 0L874.666667 375.189333zM810.666667 213.333333a64.789333 64.789333 0 0 1 22.826666 4.181334 63.616 63.616 0 0 1 26.794667 19.413333 64.32 64.32 0 0 1 9.344 15.466667c2.773333 6.570667 4.48 13.696 4.906667 21.184L874.666667 277.333333v21.333334L553.536 572.586667a64 64 0 0 1-79.893333 2.538666l-3.178667-2.56L149.333333 298.666667v-21.333334a63.786667 63.786667 0 0 1 35.136-57.130666A63.872 63.872 0 0 1 213.333333 213.333333h597.333334z" ></path>
            </svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-e0904804 data-v-c3463154 data-v-98db4e96><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-98db4e96><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-98db4e96><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-98db4e96><div class="VPMenu" data-v-98db4e96 data-v-42f4d0e0><!----><!--[--><!--[--><!----><div class="group" data-v-c3463154><div class="item appearance" data-v-c3463154><p class="label" data-v-c3463154>Appearance</p><div class="appearance-action" data-v-c3463154><label title="toggle dark mode" data-v-c3463154 data-v-1300d8fa><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-1300d8fa data-v-8b8dafc7><span class="check" data-v-8b8dafc7><span class="icon" data-v-8b8dafc7><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-1300d8fa><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-1300d8fa><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><div class="group" data-v-c3463154><div class="item social-links" data-v-c3463154><div class="VPSocialLinks social-links-list" data-v-c3463154 data-v-64b76d79><!--[--><a class="VPSocialLink" href="https://github.com/songzhanpeng" aria-label="github" target="_blank" rel="noopener" data-v-64b76d79 data-v-aa30dbb4><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="mailto:1686588552@qq.com" aria-label target="_blank" rel="noopener" data-v-64b76d79 data-v-aa30dbb4><svg role="img" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20">
            <path d="M874.666667 375.189333V746.666667a64 64 0 0 1-64 64H213.333333a64 64 0 0 1-64-64V375.189333l266.090667 225.6a149.333333 149.333333 0 0 0 193.152 0L874.666667 375.189333zM810.666667 213.333333a64.789333 64.789333 0 0 1 22.826666 4.181334 63.616 63.616 0 0 1 26.794667 19.413333 64.32 64.32 0 0 1 9.344 15.466667c2.773333 6.570667 4.48 13.696 4.906667 21.184L874.666667 277.333333v21.333334L553.536 572.586667a64 64 0 0 1-79.893333 2.538666l-3.178667-2.56L149.333333 298.666667v-21.333334a63.786667 63.786667 0 0 1 35.136-57.130666A63.872 63.872 0 0 1 213.333333 213.333333h597.333334z" ></path>
            </svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-e0904804 data-v-d49051d0><span class="container" data-v-d49051d0><span class="top" data-v-d49051d0></span><span class="middle" data-v-d49051d0></span><span class="bottom" data-v-d49051d0></span></span></button></div></div></div></div><!----></header><!----><!----><div class="VPContent" id="VPContent" data-v-f4cfe196 data-v-4d5890c2><div class="VPDoc" data-v-4d5890c2 data-v-76ac46f7><!--[--><!--]--><div class="container" data-v-76ac46f7><!----><div class="content" data-v-76ac46f7><div class="content-container" data-v-76ac46f7><!--[--><!--[--><!--[--><!--[--><h1 class="title" data-v-a070f4de>密码学原理</h1><div class="date" data-v-a070f4de>🕒 Published at: </div><!--]--><!----><!--]--><!--]--><!--]--><!----><main class="main" data-v-76ac46f7><div style="position:relative;" class="vp-doc _posts_%E5%AF%86%E7%A0%81%E5%AD%A6%E5%8E%9F%E7%90%86" data-v-76ac46f7><div><h3 id="简介" tabindex="-1">简介 <a class="header-anchor" href="#简介" aria-label="Permalink to &quot;简介&quot;">​</a></h3><p>加密货币主要用到密码学中的两个功能</p><ul><li>哈希函数</li><li>签名</li></ul><h3 id="hash-function-又名散列函数" tabindex="-1">Hash Function(又名散列函数) <a class="header-anchor" href="#hash-function-又名散列函数" aria-label="Permalink to &quot;Hash Function(又名散列函数)&quot;">​</a></h3><p>密码学中用到的哈希函数被称为 cryptographic hash function，他有几个重要的性质</p><h4 id="哈希碰撞阻力-collision-resistance" tabindex="-1">哈希碰撞阻力(Collision resistance) <a class="header-anchor" href="#哈希碰撞阻力-collision-resistance" aria-label="Permalink to &quot;哈希碰撞阻力(Collision resistance)&quot;">​</a></h4><p>如果 x != y, 有 H(x) == H(y), 则被称为哈希碰撞。一般来说哈希碰撞是很难避免，因为输入空间远大于输出空间。举个例子，假设我们使用 256 位的哈希值作为输出，那么输出空间就有 2^256，但是输入空间却没有限制，输入可能是无限大的。</p><p>Collision resistence 并不是指不会有哈希碰撞，而是指没有高效的方法去人为地制造哈希碰撞。只能靠暴力求解，而这个在实际情况下是不可解的。 举个例子，给定一个 x，他的哈希值是 H(x)，找一个 y，让 H(x)=H(y)。没有什么高效地方法去找 y，大部分情况下只能暴力枚举(brute-force) 所以，这个性质可以用来生成 msg 的签名 H(msg)。用来检测对于 msg 的篡改，因为如果 msg 被修改，hash 值 H(msg)也会随之改变。 理论上来说，没有哪一个哈希函数可以在数学上证明是 collision resistance。只是长久以来这么多的密码学专家和数学家都没有找到高效地人为制造哈希碰撞的方法，所以我们可以从经验上认为他是 collision resistance 的。另外，有些哈希函数，以前我们认为他是 collision resistance 的，但是后来人们找到了人为制造哈希碰撞的方法，所以他就不是 collision resistance 的了，比如 MD5，破解网站示例。</p><p>base64 是加密算法吗？</p><p>答：不是，base64 是一种用文本表示的二进制编码方式，是可逆的。</p><h3 id="隐藏-hiding" tabindex="-1">隐藏(Hiding) <a class="header-anchor" href="#隐藏-hiding" aria-label="Permalink to &quot;隐藏(Hiding)&quot;">​</a></h3><p>hiding 指的是哈希函数的计算过程是不可逆的。</p><p>举个例子，给定一个值 x，可以算出他的哈希值 H(x)；但是如果给定一个哈希值 H(x)，并不能反推出他的输入值 x，也就是说，哈希值并不会泄漏有关他的输入值的任何信息，所以叫 hiding</p><p>但是实际上，hiding 也并不是完全成立的，同样我们可以用暴力枚举的方法，把所有可能的输入值都计算一遍，找到与我们想找的哈希值一样的值，那就找到了原始值，破解了他的 hiding</p><p>所以 hiding 这个属性成立的前提是，哈希函数的输入空间要足够大，让这种蛮力求解的方法不可行。而且输入的分布也要比较均匀 ，各种取值的可能性要是差不多的，因为如果取值集中在少数几个值，那么即使输入空间很大，那也是容易被破解的。</p><p>这个 hiding 的性质可以与 collision resistance 结合起来，用来 digital commitment。</p><p>举个例子，有一个人声称可以预测股市，那么有一种方法可以检验他是否预测准确，他提前一天公布自己的预测结果，当天去看他预测的对不对。这种方法看似可行，但是并不准确，假设他如果是一个名人，比如巴菲特，那么他提前公布预测结果可能会影响股市，因为大家会顺应他的预测结果去买卖股票。所以预测结果不能提前公开。</p><p>有一种更好的方式，他提前一天写好自己的预测结果，密封起来，交给第三方保管，等到当天再拆开比对结果。</p><p>但如何保证第三方的公正性？这里就可以使用哈希函数，他可以提前一天把自己的预测结果用哈希函数加密，然后把哈希值公布出来，当天再公开自己的预测结果。因为 hiding 的性质，大家不能通过他前一天公布的哈希值反推出他的预测结果，所以不会影响市场。而因为 collision resistance 的性质，大家能根据哈希值是否相等判断他当天公布的结果与前一天公布的是否一致。</p><p>当然，在这个例子下，其实输入空间并不满足要求，hiding 并不成立，因为股票就几千只，输入空间不够大。所以我们可以用特殊方法来处理，取一个随机数(nonce)，计算哈希值的时候使用 H(msg+nonce)，来保证输入值足够随机，分布足够均匀，输入空间足够大。</p><h4 id="puzzle-friendly" tabindex="-1">puzzle friendly <a class="header-anchor" href="#puzzle-friendly" aria-label="Permalink to &quot;puzzle friendly&quot;">​</a></h4><p>意思是指，哈希值的计算事先是不可预测的，也就是说你单看一个输入值，你是不能判断他的哈希值大概长什么样，或者落在什么范围的。如果你想找一个输入值，他的哈希值落在某个范围内，那么你只能暴力枚举，顺着一个个计算他的哈希值。</p><h5 id="挖矿" tabindex="-1">挖矿 <a class="header-anchor" href="#挖矿" aria-label="Permalink to &quot;挖矿&quot;">​</a></h5><p>挖矿本质上就是为了找一个 nonce，这个 nonce 和区块的块头里的其他信息合在一起作为输入，得到一个哈希值，这个哈希值要小与等于一个目标值 target。也就是不停地用不同的随机数去计算，直到满足条件</p><p>H(block header)&lt;=target.</p><p>注意：nonce 本身就位于 block header 中</p><p>Puzzle friendly 的意思也就是说，挖矿的过程，没有捷径，只能通过不停地计算来得到，这个过程也叫做工作量证明(proof of work)</p><h5 id="difficult-to-solve-but-easy-to-verify" tabindex="-1">difficult to solve, but easy to verify <a class="header-anchor" href="#difficult-to-solve-but-easy-to-verify" aria-label="Permalink to &quot;difficult to solve, but easy to verify&quot;">​</a></h5><p>虽然挖矿的过程需要大量的计算来找到符合条件的 nonce,但是当挖矿完成后，他发布出去，其他人要验证他的 nonce 是不是符合要求却很容易，只需要一次哈希计算即可</p><h4 id="常见的-hash-function" tabindex="-1">常见的 hash function <a class="header-anchor" href="#常见的-hash-function" aria-label="Permalink to &quot;常见的 hash function&quot;">​</a></h4><p>btc 中用的哈希函数是 SHA-256,sha 的意思是 secure hash algorithm,这个算法满足 collision resistance、hiding、puzzle friendly</p><p>以太坊中的密码学哈希函数：Keccak-256,你会在以太坊的代码和文档中看到大量“SHA-3”的字样，这些多数都是指原始版本的 Keccak-256，而不是经过 SHA-3 标准化的 FIPS-202。</p><p>cosmos 中常用的是 sha-256</p><h3 id="签名" tabindex="-1">签名 <a class="header-anchor" href="#签名" aria-label="Permalink to &quot;签名&quot;">​</a></h3><h4 id="账户管理" tabindex="-1">账户管理 <a class="header-anchor" href="#账户管理" aria-label="Permalink to &quot;账户管理&quot;">​</a></h4><p>在本地创建一对公钥私钥(public key, private key)，就可以作为加密货币中的账户</p><p>如何创建公钥和私钥？</p><p>涉及到钱包的部分，简单来说，钱包分为非确定性钱包、确定性钱包、分层确定性钱包（HD Wallet）</p><p>简单来说，就是先生成助记词，然后根据助记词生成种子，由种子生成私钥和一系列子私钥，我们从私钥开始，通过椭圆曲线乘法运算获得公钥</p><p>为什么私钥生成公钥要用椭圆曲线乘法运算？</p><p>答：因为椭圆曲线的乘法运算很容易，除法运算却很难，也就是说从私钥生成公钥很容易，但是从公钥反推私钥却几乎不可能。</p><p>公钥私钥是来源于非对称加密算法(asymmetric encryption algorithm),与之对应的是对称加密算法(symmetric encryption algorithm)</p><p>对称加密与非对称加密简单介绍</p><p>公钥相当于你的银行账号，别人想要给你转账，只需要知道你的公钥就行了。私钥相当于你的银行密码，知道这个私钥，就可以把这个账号的钱转走</p><p>前面我们提过，加密货币是不加密的，那这里的加密算法是用来干嘛的呢？实际上是用来签名的。</p><p>举个例子，小红向小明转账 1 个 btc，当在链上广播的时候，大家如何判断真的是小红向小明转账了，而不是冒名交易呢？可以用签名的方式，小红向小明转账的时候，会用自己的私钥对交易信息进行加密（也就是签名），大家收到广播的时候，就对这条信息用小红的公钥进行解密，看是否是正确的交易信息</p><p>既然账户是一对公私钥对，那么万一两个人生成了一样的公私钥对怎么办，那么就可以偷走另一外一个人的 btc？</p><p>答：理论上可行，实际不可行，假设是 256 位的公私钥，产生相同公私钥对的可能性微乎其微。当然，这就需要要求有很好的随机源；比如，btc 系统中一般都是先对一串交易 message 取 hash，然后再对 hash 进行签名</p><p>地址与公钥的关系？</p><p>答：地址是唯一标识符，从公钥通过哈希函数计算而来，比如以太坊地址就是通过 Keccak-256。</p><h4 id="签名-1" tabindex="-1">签名 <a class="header-anchor" href="#签名-1" aria-label="Permalink to &quot;签名&quot;">​</a></h4><p>数字签名是一种由两部分组成的数学方案：第一部分是使用私钥（签名密钥）从消息（交易）创建签名的算法；第二部分是允许任何人在给定消息和公钥时验证签名合法性的算法 比较常见的签名算法结构如下所示</p><p>使用另一个数学公式可以进行反向计算，也就是验证签名，不需要私钥，需要公钥(他的公式跟 Fsig 相对应，通常为椭圆曲线)</p><p>比特币和以太坊中使用的数字签名算法是椭圆曲线数字签名算法（Elliptic Curve Digital Signature Algorithm,也就是 ECDSA</p><p>Tendermint Core 中实现了多种数字签名算法，包括 ECDSA、Ed25519 以及 Sr25519，Tendermint Core 采用 Ed25519 数字签名算法完成共识投票过程中的投票，而 Cosmos-SDK 采用 ECDSA 进行交易的授权</p></div></div></main><footer class="VPDocFooter" data-v-76ac46f7 data-v-a9a244d8><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div><footer data-v-a16c1dd9 data-v-09330a63> Powered by <a href="https://github.com/songzhanpeng/" target="_blank" title="作者" data-v-09330a63>yinyuejun</a> | Copyright © 2022-2023 | MIT License </footer><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"posts_cosmos详解.md\":\"88ff850e\",\"starrail.md\":\"036fa6fa\",\"posts_前端已死.md\":\"0db40a1f\",\"posts_使用whisper生成字幕.md\":\"1b2ebbbb\",\"posts_智能合约开发2.md\":\"069f8bad\",\"posts_react优化.md\":\"d766d9e3\",\"posts_2022 annual summary.md\":\"4702e92d\",\"posts_随便说点啥.md\":\"f76ae7a9\",\"posts_proxyconfig.md\":\"2c661f16\",\"posts_mac外接显示器.md\":\"cd8dac04\",\"posts_defi科普.md\":\"74076848\",\"posts_区块链科普.md\":\"78a6e9b4\",\"posts_博客开启https.md\":\"d2cb851f\",\"archives.md\":\"c8cbe963\",\"posts_密码学原理.md\":\"d5e55e7a\",\"posts_变量提升.md\":\"a22f4c08\",\"posts_区块链科普2.md\":\"0bc63da6\",\"posts_为什么dex需要授权.md\":\"072d4ec1\",\"posts_虚拟机配置.md\":\"7da9b097\",\"index.md\":\"d36abbdf\",\"posts_buildsite.md\":\"f159990f\",\"posts_合约的multicall.md\":\"a9672d30\",\"tags.md\":\"fde08eed\",\"posts_tts.md\":\"616fa962\",\"posts_scratch-gui.md\":\"297f3e3e\",\"posts_定时提醒喝水小助手.md\":\"6f75b683\",\"readme.md\":\"e8e93437\",\"posts_typescript学习笔记.md\":\"0b9f2672\",\"posts_智能合约开发.md\":\"07778829\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"你的饮月君\",\"description\":\"Home of 你的饮月君\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/avator.png\",\"avator\":\"/avator.png\",\"search\":{\"provider\":\"local\"},\"docsDir\":\"/\",\"posts\":[{\"frontMatter\":{\"title\":\"定时提醒小助手\",\"description\":\"定时提醒小助手\",\"date\":\"2023-07-21\",\"tags\":[\"javascript\"]},\"regularPath\":\"/posts/定时提醒喝水小助手.html\"},{\"frontMatter\":{\"title\":\"Scratch Gui\",\"description\":\"Scratch Gui\",\"date\":\"2023-06-21\",\"tags\":[\"Scratch\"]},\"regularPath\":\"/posts/scratch-gui.html\"},{\"frontMatter\":{\"title\":\"2022 Annual Summary\",\"description\":\"2022 Annual Summary\",\"date\":\"2023-04-19\",\"tags\":[\"English\"]},\"regularPath\":\"/posts/2022 Annual Summary.html\"},{\"frontMatter\":{\"title\":\"前端已死\",\"description\":\"前端已死\",\"date\":\"2023-04-05\",\"tags\":[\"闲聊\"]},\"regularPath\":\"/posts/前端已死.html\"},{\"frontMatter\":{\"title\":\"使用whisper生成字幕\",\"description\":\"使用whisper生成字幕\",\"date\":\"2023-03-22\",\"tags\":[\"工具\"]},\"regularPath\":\"/posts/使用whisper生成字幕.html\"},{\"frontMatter\":{\"title\":\"合约的multicall\",\"description\":\"合约的multicall\",\"date\":\"2023-03-20\",\"tags\":[\"区块链\"]},\"regularPath\":\"/posts/合约的multicall.html\"},{\"frontMatter\":{\"title\":\"为什么DEX需要授权?\",\"description\":\"为什么DEX需要授权?\",\"date\":\"2023-02-16\",\"tags\":[\"区块链\"]},\"regularPath\":\"/posts/为什么DEX需要授权.html\"},{\"frontMatter\":{\"title\":\"区块链科普2\",\"description\":\"区块链基础知识\",\"date\":\"2023-02-13\",\"tags\":[\"区块链\"]},\"regularPath\":\"/posts/区块链科普2.html\"},{\"frontMatter\":{\"title\":\"React 简单优化\",\"description\":\"React\",\"date\":\"2022-09-03\",\"tags\":[\"React\"]},\"regularPath\":\"/posts/react优化.html\"},{\"frontMatter\":{\"title\":\"密码学原理\",\"description\":\"区块链基础知识\",\"date\":\"2022-08-15\",\"tags\":[\"区块链\"]},\"regularPath\":\"/posts/密码学原理.html\"},{\"frontMatter\":{\"title\":\"Cosmos 详解\",\"description\":\"cosmos\",\"date\":\"2022-07-05\",\"tags\":[\"区块链\"]},\"regularPath\":\"/posts/Cosmos详解.html\"},{\"frontMatter\":{\"title\":\"智能合约开发2\",\"description\":\"智能合约\",\"date\":\"2022-05-09\",\"tags\":[\"区块链\"]},\"regularPath\":\"/posts/智能合约开发2.html\"},{\"frontMatter\":{\"title\":\"智能合约开发\",\"description\":\"智能合约\",\"date\":\"2022-05-06\",\"tags\":[\"区块链\"]},\"regularPath\":\"/posts/智能合约开发.html\"},{\"frontMatter\":{\"title\":\"DeFi科普\",\"description\":\"DeFi基础知识\",\"date\":\"2022-05-01\",\"tags\":[\"区块链\"]},\"regularPath\":\"/posts/DeFi科普.html\"},{\"frontMatter\":{\"title\":\"区块链科普\",\"description\":\"区块链基础知识\",\"date\":\"2022-04-27\",\"tags\":[\"区块链\"]},\"regularPath\":\"/posts/区块链科普.html\"},{\"frontMatter\":{\"title\":\"虚拟机配置\",\"description\":\"配置虚拟机开发环境\",\"date\":\"2022-01-20\",\"tags\":[\"工具\"]},\"regularPath\":\"/posts/虚拟机配置.html\"},{\"frontMatter\":{\"title\":\"博客开启https\",\"description\":\"所有子域名都开启了https\",\"date\":\"2022-01-11\",\"tags\":[\"建站\"]},\"regularPath\":\"/posts/博客开启https.html\"},{\"frontMatter\":{\"title\":\"随便说点啥\",\"description\":\"吹吹水\",\"date\":\"2022-01-10\",\"tags\":[\"闲聊\"]},\"regularPath\":\"/posts/随便说点啥.html\"},{\"frontMatter\":{\"title\":\"mac外接显示器\",\"description\":\"mac外接显示器的坑\",\"date\":\"2021-10-15\",\"tags\":[\"工具\"]},\"regularPath\":\"/posts/mac外接显示器.html\"},{\"frontMatter\":{\"title\":\"TypeScript学习笔记\",\"description\":\"typescript学习笔记\",\"date\":\"2021-09-03\",\"tags\":[\"typescript\"]},\"regularPath\":\"/posts/TypeScript学习笔记.html\"},{\"frontMatter\":{\"title\":\"TTS\",\"description\":\"tts\",\"date\":\"2021-05-03\",\"tags\":[\"javascript\"]},\"regularPath\":\"/posts/TTS.html\"},{\"frontMatter\":{\"title\":\"js变量提升\",\"description\":\"javascript的变量提升机制\",\"date\":\"2020-12-08\",\"tags\":[\"javascript\"]},\"regularPath\":\"/posts/变量提升.html\"},{\"frontMatter\":{\"title\":\"代理配置\",\"description\":\"由于网络问题，需要做一些代理的设置，这里是我的一些记录\",\"date\":\"2020-06-10\",\"tags\":[\"工具\"]},\"regularPath\":\"/posts/proxyConfig.html\"},{\"frontMatter\":{\"title\":\"建站日记\",\"description\":\"这是服务器建站的一系列记录，早期的版本已经遗失，这里是目前的一些实践与想法\",\"date\":\"2020-01-10\",\"tags\":[\"建站\"]},\"regularPath\":\"/posts/buildSite.html\"}],\"pageSize\":5,\"postLength\":24,\"nav\":[{\"text\":\"🏡博客\",\"link\":\"/\"},{\"text\":\"🔖标签\",\"link\":\"/tags\"},{\"text\":\"📃历史博客\",\"link\":\"/archives\"},{\"text\":\"崩坏*星穹铁道\",\"link\":\"/starRail\"}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/songzhanpeng\"},{\"icon\":{\"svg\":\"<svg role=\\\"img\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"20\\\">\\n            <path d=\\\"M874.666667 375.189333V746.666667a64 64 0 0 1-64 64H213.333333a64 64 0 0 1-64-64V375.189333l266.090667 225.6a149.333333 149.333333 0 0 0 193.152 0L874.666667 375.189333zM810.666667 213.333333a64.789333 64.789333 0 0 1 22.826666 4.181334 63.616 63.616 0 0 1 26.794667 19.413333 64.32 64.32 0 0 1 9.344 15.466667c2.773333 6.570667 4.48 13.696 4.906667 21.184L874.666667 277.333333v21.333334L553.536 572.586667a64 64 0 0 1-79.893333 2.538666l-3.178667-2.56L149.333333 298.666667v-21.333334a63.786667 63.786667 0 0 1 35.136-57.130666A63.872 63.872 0 0 1 213.333333 213.333333h597.333334z\\\" ></path>\\n            </svg>\"},\"link\":\"mailto:1686588552@qq.com\"}],\"outline\":2,\"aside\":false},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>